{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\shop\\Content.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\shop\\Content.vue","mtime":1615978176000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FkbWluL0Rlc2t0b3AvbHpjX3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzLCByZWYsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgdXNlQ29tbW9uQ2FydEVmZmVjdCB9IGZyb20gJy4uLy4uL2VmZmVjdHMvY2FydEVmZmVjdHMnOyAvLyB0YWLnsbsKCnZhciBjYXRlZ29yaWVzID0gW3sKICBuYW1lOiAn5ryr55S7JywKICB0YWI6ICdjYXJ0b29uJwp9LCB7CiAgbmFtZTogJ+enkeW5uycsCiAgdGFiOiAnc2NpLWZpJwp9LCB7CiAgbmFtZTogJ+e+jumjnycsCiAgdGFiOiAnZm9vZCcKfSwgewogIG5hbWU6ICfmlZnogrInLAogIHRhYjogJ2VkdWNhdGlvbicKfSwgewogIG5hbWU6ICflhL/nq6UnLAogIHRhYjogJ2NoaWxkcmVuJwp9LCB7CiAgbmFtZTogJ+azleW+iycsCiAgdGFiOiAnbGF3Jwp9LCB7CiAgbmFtZTogJ+WOhuWPsicsCiAgdGFiOiAnaGlzdG9yeScKfSwgewogIG5hbWU6ICfnu4/mtY4nLAogIHRhYjogJ2ZpbmFuY2lhbCcKfSwgewogIG5hbWU6ICflqLHkuZAnLAogIHRhYjogJ2FtdXNpbmcnCn0sIHsKICBuYW1lOiAn5peF5ri4JywKICB0YWI6ICd0cmF2ZWwnCn1dOyAvLyB0YWLliIfmjaLpgLvovpEKCnZhciB1c2VUYWJFZmZlY3QgPSBmdW5jdGlvbiB1c2VUYWJFZmZlY3QoKSB7CiAgdmFyIGN1cnJlbnRUYWIgPSByZWYoY2F0ZWdvcmllc1swXS50YWIpOwoKICB2YXIgaGFuZGxlVGFiQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVUYWJDbGljayh0YWIpIHsKICAgIGN1cnJlbnRUYWIudmFsdWUgPSB0YWI7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGN1cnJlbnRUYWI6IGN1cnJlbnRUYWIsCiAgICBoYW5kbGVUYWJDbGljazogaGFuZGxlVGFiQ2xpY2sKICB9Owp9OyAvLyDliJfooajnm7jlhbPpgLvovpEKCgp2YXIgdXNlQ3VycmVudExpc3RFZmZlY3QgPSBmdW5jdGlvbiB1c2VDdXJyZW50TGlzdEVmZmVjdChjdXJyZW50VGFiLCBzaG9wSWQpIHsKICB2YXIgY29udGVudCA9IHJlYWN0aXZlKHsKICAgIGxpc3Q6IFtdCiAgfSk7CgogIHZhciBnZXRDb250ZW50RGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0YWIpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoJy9zaG93Qm9vaycsIHsKICAgICAgICAgICAgICAgIHRhYjogY3VycmVudFRhYi52YWx1ZSwKICAgICAgICAgICAgICAgIGlkOiBzaG9wSWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnRlbnQubGlzdCA9IHJlc3VsdC5rZXk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRDb250ZW50RGF0YShfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHdhdGNoRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGdldENvbnRlbnREYXRhKCk7CiAgfSk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGNvbnRlbnQpLAogICAgICBsaXN0ID0gX3RvUmVmcy5saXN0OwoKICByZXR1cm4gewogICAgbGlzdDogbGlzdAogIH07Cn07IC8vIOi0reeJqei9puebuOWFs+mAu+i+kQoKCnZhciB1c2VDYXJ0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ2FydEVmZmVjdCgpIHsKICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICB2YXIgX3VzZUNvbW1vbkNhcnRFZmZlY3QgPSB1c2VDb21tb25DYXJ0RWZmZWN0KCksCiAgICAgIGNoYW5nZUNhcnRJdGVtSW5mbyA9IF91c2VDb21tb25DYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtSW5mbywKICAgICAgY2FydExpc3QgPSBfdXNlQ29tbW9uQ2FydEVmZmVjdC5jYXJ0TGlzdDsKCiAgdmFyIGNoYW5nZVNob3BOYW1lID0gZnVuY3Rpb24gY2hhbmdlU2hvcE5hbWUoc2hvcElkLCBzaG9wTmFtZSkgewogICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VTaG9wTmFtZScsIHsKICAgICAgc2hvcElkOiBzaG9wSWQsCiAgICAgIHNob3BOYW1lOiBzaG9wTmFtZQogICAgfSk7CiAgfTsKCiAgdmFyIGNoYW5nZUNhcnRJdGVtID0gZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW0oc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSwgc2hvcE5hbWUpIHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbyhzaG9wSWQsIHByb2R1Y3RJZCwgaXRlbSwgbnVtKTsKICAgIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpOwogIH07CgogIHZhciBnZXRQcm9kdWN0Q2FydENvdW50ID0gZnVuY3Rpb24gZ2V0UHJvZHVjdENhcnRDb3VudChzaG9wSWQsIHByb2R1Y3RJZCkgewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMjsKCiAgICByZXR1cm4gKGNhcnRMaXN0ID09PSBudWxsIHx8IGNhcnRMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCA9IGNhcnRMaXN0W3Nob3BJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QgPSBfY2FydExpc3Qkc2hvcElkLnByb2R1Y3RMaXN0KSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkJHByb2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QyID0gX2NhcnRMaXN0JHNob3BJZCRwcm9kW3Byb2R1Y3RJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIuY291bnQpIHx8IDA7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGNhcnRMaXN0OiBjYXJ0TGlzdCwKICAgIGNoYW5nZUNhcnRJdGVtOiBjaGFuZ2VDYXJ0SXRlbSwKICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250ZW50JywKICBwcm9wczogWydzaG9wTmFtZSddLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgc2hvcElkID0gcm91dGUucGFyYW1zLmlkOwoKICAgIHZhciBfdXNlVGFiRWZmZWN0ID0gdXNlVGFiRWZmZWN0KCksCiAgICAgICAgY3VycmVudFRhYiA9IF91c2VUYWJFZmZlY3QuY3VycmVudFRhYiwKICAgICAgICBoYW5kbGVUYWJDbGljayA9IF91c2VUYWJFZmZlY3QuaGFuZGxlVGFiQ2xpY2s7CgogICAgdmFyIF91c2VDdXJyZW50TGlzdEVmZmVjdCA9IHVzZUN1cnJlbnRMaXN0RWZmZWN0KGN1cnJlbnRUYWIsIHNob3BJZCksCiAgICAgICAgbGlzdCA9IF91c2VDdXJyZW50TGlzdEVmZmVjdC5saXN0OwoKICAgIHZhciBfdXNlQ2FydEVmZmVjdCA9IHVzZUNhcnRFZmZlY3QoKSwKICAgICAgICBjYXJ0TGlzdCA9IF91c2VDYXJ0RWZmZWN0LmNhcnRMaXN0LAogICAgICAgIGNoYW5nZUNhcnRJdGVtID0gX3VzZUNhcnRFZmZlY3QuY2hhbmdlQ2FydEl0ZW0sCiAgICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudCA9IF91c2VDYXJ0RWZmZWN0LmdldFByb2R1Y3RDYXJ0Q291bnQ7CgogICAgcmV0dXJuIHsKICAgICAgbGlzdDogbGlzdCwKICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllcywKICAgICAgY3VycmVudFRhYjogY3VycmVudFRhYiwKICAgICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrLAogICAgICBzaG9wSWQ6IHNob3BJZCwKICAgICAgY2FydExpc3Q6IGNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\shop\\Content.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{category__item: true ,'category__item--active': currentTab === item.tab}\"\n        v-for=\"item in categories\"\n        :key=\"item.name\"\n        @click=\"() => handleTabClick(item.tab)\"\n      >{{ item.name }}</div>\n    </div>\n    <div class=\"product\">\n      <div\n        class=\"product__item\"\n        v-for=\"item in list\"\n        :key=\"item.id\"\n      >\n        <img\n          class=\"product__item__img\"\n          :src=\"item.imgUrl\"\n        >\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{ item.name }}</h4>\n          <p class=\"product__item__sales\">月售{{ item.sales }}件 </p>\n          <p class=\"product__item__stocks\">现有{{ item.stock }}件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{ item.price }}\n            <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item.id, item, -1, shopName) }\"\n          >&#xe687;</span>\n          {{ getProductCartCount(shopId, item.id) }}\n          <span\n            class=\"product__number__plus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item.id, item, 1, shopName) }\"\n          >&#xe619;</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { get } from '../../utils/request'\nimport { reactive, toRefs, ref, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\n\n// tab类\nconst categories = [{\n  name: '漫画',\n  tab: 'cartoon'\n}, {\n  name: '科幻',\n  tab: 'sci-fi'\n}, {\n  name: '美食',\n  tab: 'food'\n}, {\n  name: '教育',\n  tab: 'education'\n}, {\n  name: '儿童',\n  tab: 'children'\n}, {\n  name: '法律',\n  tab: 'law'\n}, {\n  name: '历史',\n  tab: 'history'\n}, {\n  name: '经济',\n  tab: 'financial'\n}, {\n  name: '娱乐',\n  tab: 'amusing'\n}, {\n  name: '旅游',\n  tab: 'travel'\n}]\n\n// tab切换逻辑\nconst useTabEffect = () => {\n  const currentTab = ref(categories[0].tab)\n  const handleTabClick = (tab) => {\n    currentTab.value = tab\n  }\n  return { currentTab, handleTabClick }\n}\n\n// 列表相关逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n  const content = reactive({ list: [] })\n  const getContentData = async (tab) => {\n    const result = await get('/showBook', { tab: currentTab.value, id: shopId })\n    content.list = result.key\n  }\n  watchEffect(() => { getContentData() })\n  const { list } = toRefs(content)\n  return { list }\n}\n\n// 购物车相关逻辑\nconst useCartEffect = () => {\n  const store = useStore()\n  const { changeCartItemInfo, cartList } = useCommonCartEffect()\n  const changeShopName = (shopId, shopName) => {\n    store.commit('changeShopName', {\n      shopId,\n      shopName\n    })\n  }\n  const changeCartItem = (shopId, productId, item, num, shopName) => {\n    changeCartItemInfo(shopId, productId, item, num)\n    changeShopName(shopId, shopName)\n  }\n  const getProductCartCount = (shopId, productId) => {\n    return cartList?.[shopId]?.productList?.[productId]?.count || 0\n  }\n  return { cartList, changeCartItem, getProductCartCount }\n}\n\nexport default {\n  name: 'Content',\n  props: ['shopName'],\n  setup () {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { currentTab, handleTabClick } = useTabEffect()\n    const { list } = useCurrentListEffect(currentTab, shopId)\n    const { cartList, changeCartItem, getProductCartCount } = useCartEffect()\n    return { list, categories, currentTab, handleTabClick, shopId, cartList, changeCartItem, getProductCartCount }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 1.6rem;\n  bottom: 0.5rem;\n}\n\n.category {\n  overflow-y: scroll;\n  width: 0.76rem;\n  height: 100%;\n  background: #f5f5f5;\n  &__item {\n    line-height: 0.4rem;\n    text-align: center;\n    font-size: .14rem;\n    color: #333;\n    &--active {\n      background: #fff;\n    }\n  }\n}\n\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  &__item {\n    display: flex;\n    position: relative;\n    padding: 0.012rem;\n    margin: 0 0.16rem;\n    border-bottom: 0.01rem solid #f1f1f1;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: 0.68rem;\n      height: 0.68rem;\n      margin-right: 0.16rem;\n    }\n    &__title {\n      margin: 0;\n      line-height: 0.2rem;\n      font-size: 0.14rem;\n      color: #333;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n    &__sales {\n      display: inline;\n      margin: 0.06rem 0;\n      font-size: 0.12rem;\n      color: #333;\n    }\n    &__stocks {\n      display: inline;\n      margin: 0.06rem 0;\n      font-size: 0.12rem;\n      color: #333;\n    }\n    &__price {\n      margin: 0;\n      line-height: 0.2rem;\n      font-size: 0.14rem;\n      color: #e93b3b;\n    }\n    &__yen {\n      font-size: 0.12rem;\n    }\n    &__origin {\n      margin-left: 0.06rem;\n      line-height: 0.2rem;\n      font-size: 0.12rem;\n      color: #999;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: 0.12rem;\n      line-height: 0.18rem;\n      &__minus {\n        color: #666;\n        margin-right: 0.05rem;\n      }\n      &__plus {\n        color: #0091ff;\n        margin-left: 0.05rem;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}