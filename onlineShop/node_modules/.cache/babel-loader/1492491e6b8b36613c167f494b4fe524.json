{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\TheShop.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\TheShop.vue","mtime":1620224040083},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FkbWluL0Rlc2t0b3AvbHpjX3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBnZXQsIHBvc3QgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IFNob3BJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2hvcEluZm8nOwppbXBvcnQgU2hvcENvbnRlbnQgZnJvbSAnLi4vYWRtaW4vU2hvcENvbnRlbnQnOwppbXBvcnQgVG9hc3QsIHsgdXNlVG9hc3RFZmZlY3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RvYXN0JzsgLy8g6I635Y+W5b2T5YmN5ZWG6ZO65L+h5oGvCgp2YXIgdXNlU2hvcEluZm9FZmZlY3QgPSBmdW5jdGlvbiB1c2VTaG9wSW5mb0VmZmVjdCgpIHsKICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgaXRlbToge30KICB9KTsKCiAgdmFyIGdldEl0ZW1EYXRhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgnL3Nob3dTaG9wJywgewogICAgICAgICAgICAgICAgaWQ6IHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgZGF0YS5pdGVtID0gcmVzdWx0OwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0SXRlbURhdGEoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIGl0ZW0gPSBfdG9SZWZzLml0ZW07CgogIHJldHVybiB7CiAgICBpdGVtOiBpdGVtLAogICAgZ2V0SXRlbURhdGE6IGdldEl0ZW1EYXRhCiAgfTsKfTsgLy8g54K55Ye75Zue6YCACgoKdmFyIHVzZUJhY2tSb3V0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VCYWNrUm91dGVyRWZmZWN0KCkgewogIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgdmFyIGhhbmRsZUJhY2tDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUJhY2tDbGljaygpIHsKICAgIHJvdXRlci5iYWNrKCk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGhhbmRsZUJhY2tDbGljazogaGFuZGxlQmFja0NsaWNrCiAgfTsKfTsgLy8g54K55Ye75pCc57SiCgoKdmFyIHVzZVNlYXJjaEVmZmVjdCA9IGZ1bmN0aW9uIHVzZVNlYXJjaEVmZmVjdChzaG93VG9hc3QpIHsKICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogIHZhciBzaG9wSWQgPSByb3V0ZS5wYXJhbXMuaWQ7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICBuYW1lOiAnJywKICAgIHRhYjogMAogIH0pOwoKICB2YXIgaGFuZGxlU2VhcmNoQ2xpY2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIShkYXRhLm5hbWUgPT09ICcnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzaG93VG9hc3QoJ+ivt+i+k+WFpeWVhuWTgeWQjeensCEnKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHBvc3QoJy9zZWFyY2gnLCB7CiAgICAgICAgICAgICAgICBpZDogc2hvcElkLAogICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09ICdOb25lJykgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfmnKrmib7liLDor6XkuabnsY0hJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRhdGEudGFiID0gcmVzdWx0OwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgc2hvd1RvYXN0KCfor7fmsYLlpLHotKUhJyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTFdXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVNlYXJjaENsaWNrKCkgewogICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmczIgPSB0b1JlZnMoZGF0YSksCiAgICAgIG5hbWUgPSBfdG9SZWZzMi5uYW1lLAogICAgICB0YWIgPSBfdG9SZWZzMi50YWI7CgogIHJldHVybiB7CiAgICBoYW5kbGVTZWFyY2hDbGljazogaGFuZGxlU2VhcmNoQ2xpY2ssCiAgICBuYW1lOiBuYW1lLAogICAgdGFiOiB0YWIKICB9Owp9OyAvLyDlop7liqDkuabnsY3pgLvovpEKCgp2YXIgdXNlQWRkQm9vayA9IGZ1bmN0aW9uIHVzZUFkZEJvb2soKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CgogIHZhciBoYW5kbGVBZGQgPSBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICByb3V0ZXIucHVzaCgiL0FkZFNob3BCb29rLyIuY29uY2F0KHJvdXRlLnBhcmFtcy5pZCkpOwogIH07CgogIHJldHVybiBoYW5kbGVBZGQ7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RoZVNob3AnLAogIGNvbXBvbmVudHM6IHsKICAgIFNob3BJbmZvOiBTaG9wSW5mbywKICAgIFNob3BDb250ZW50OiBTaG9wQ29udGVudCwKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgX3VzZUJhY2tSb3V0ZXJFZmZlY3QgPSB1c2VCYWNrUm91dGVyRWZmZWN0KCksCiAgICAgICAgaGFuZGxlQmFja0NsaWNrID0gX3VzZUJhY2tSb3V0ZXJFZmZlY3QuaGFuZGxlQmFja0NsaWNrOwoKICAgIHZhciBfdXNlU2hvcEluZm9FZmZlY3QgPSB1c2VTaG9wSW5mb0VmZmVjdCgpLAogICAgICAgIGl0ZW0gPSBfdXNlU2hvcEluZm9FZmZlY3QuaXRlbSwKICAgICAgICBnZXRJdGVtRGF0YSA9IF91c2VTaG9wSW5mb0VmZmVjdC5nZXRJdGVtRGF0YTsKCiAgICB2YXIgaGFuZGxlQWRkID0gdXNlQWRkQm9vaygpOwoKICAgIHZhciBfdXNlU2VhcmNoRWZmZWN0ID0gdXNlU2VhcmNoRWZmZWN0KHNob3dUb2FzdCksCiAgICAgICAgaGFuZGxlU2VhcmNoQ2xpY2sgPSBfdXNlU2VhcmNoRWZmZWN0LmhhbmRsZVNlYXJjaENsaWNrLAogICAgICAgIG5hbWUgPSBfdXNlU2VhcmNoRWZmZWN0Lm5hbWUsCiAgICAgICAgdGFiID0gX3VzZVNlYXJjaEVmZmVjdC50YWI7CgogICAgZ2V0SXRlbURhdGEoKTsKICAgIHJldHVybiB7CiAgICAgIGl0ZW06IGl0ZW0sCiAgICAgIGhhbmRsZUJhY2tDbGljazogaGFuZGxlQmFja0NsaWNrLAogICAgICBoYW5kbGVTZWFyY2hDbGljazogaGFuZGxlU2VhcmNoQ2xpY2ssCiAgICAgIHNob3c6IHNob3csCiAgICAgIHRvYXN0TWVzc2FnZTogdG9hc3RNZXNzYWdlLAogICAgICBuYW1lOiBuYW1lLAogICAgICB0YWI6IHRhYiwKICAgICAgaGFuZGxlQWRkOiBoYW5kbGVBZGQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\TheShop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"warpper\">\r\n    <div class=\"search\">\r\n      <div\r\n        class=\"search__back iconfont\"\r\n        @click=\"handleBackClick\"\r\n      >&#xe602;</div>\r\n    </div>\r\n    <ShopInfo\r\n      :item=\"item\"\r\n      :hideBorder=\"true\"\r\n    />\r\n    <ShopContent />\r\n    <Toast\r\n      v-if=\"show\"\r\n      :message=\"toastMessage\"\r\n    />\r\n  </div>\r\n  <div\r\n    class=\"add\"\r\n    @click=\"handleAdd\"\r\n  >增加书籍</div>\r\n</template>\r\n\r\n<script>\r\nimport { get, post } from '../../utils/request'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport ShopInfo from '../../components/ShopInfo'\r\nimport ShopContent from '../admin/ShopContent'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 获取当前商铺信息\r\nconst useShopInfoEffect = () => {\r\n  const route = useRoute()\r\n  const data = reactive({ item: {} })\r\n  const getItemData = async () => {\r\n    const result = await get('/showShop', { id: route.params.id })\r\n    data.item = result\r\n  }\r\n  const { item } = toRefs(data)\r\n  return { item, getItemData }\r\n}\r\n\r\n// 点击回退\r\nconst useBackRouterEffect = () => {\r\n  const router = useRouter()\r\n  const handleBackClick = () => {\r\n    router.back()\r\n  }\r\n  return { handleBackClick }\r\n}\r\n\r\n// 点击搜索\r\nconst useSearchEffect = (showToast) => {\r\n  const route = useRoute()\r\n  const shopId = route.params.id\r\n  const data = reactive({\r\n    name: '',\r\n    tab: 0\r\n  })\r\n  const handleSearchClick = async () => {\r\n    if (data.name === '') {\r\n      showToast('请输入商品名称!')\r\n    } else {\r\n      try {\r\n        const result = await post('/search', {\r\n          id: shopId,\r\n          name: data.name\r\n        })\r\n        if (result === 'None') {\r\n          showToast('未找到该书籍!')\r\n        } else {\r\n          data.tab = result\r\n        }\r\n      } catch (e) {\r\n        showToast('请求失败!')\r\n      }\r\n    }\r\n  }\r\n  const { name, tab } = toRefs(data)\r\n  return { handleSearchClick, name, tab }\r\n}\r\n\r\n// 增加书籍逻辑\r\nconst useAddBook = () => {\r\n  const router = useRouter()\r\n  const route = useRoute()\r\n  const handleAdd = () => {\r\n    router.push(`/AddShopBook/${route.params.id}`)\r\n  }\r\n  return handleAdd\r\n}\r\n\r\nexport default {\r\n  name: 'TheShop',\r\n  components: { ShopInfo, ShopContent, Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const { handleBackClick } = useBackRouterEffect()\r\n    const { item, getItemData } = useShopInfoEffect()\r\n    const handleAdd = useAddBook()\r\n    const { handleSearchClick, name, tab } = useSearchEffect(showToast)\r\n    getItemData()\r\n    return { item, handleBackClick, handleSearchClick, show, toastMessage, name, tab, handleAdd }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  padding: 0 0.18rem;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  margin: 0.2rem 0 0.16rem 0;\r\n  &__back {\r\n    width: 0.3rem;\r\n    font-size: 0.3rem;\r\n    color: #b6b6b6;\r\n  }\r\n}\r\n.add {\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 0;\r\n  line-height: 0.32rem;\r\n  background: #0091ff;\r\n  color: #f8f8f8;\r\n  text-align: center;\r\n  border-radius: 0.04rem;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}