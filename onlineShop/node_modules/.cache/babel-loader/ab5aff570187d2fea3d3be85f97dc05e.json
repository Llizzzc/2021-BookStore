{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\BookContent.vue?vue&type=template&id=4fc4f3c6&scoped=true","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\BookContent.vue","mtime":1618471388650},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNGZjNGYzYzYiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTRmYzRmM2M2Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNvbnRlbnQiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY2F0ZWdvcnkiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicHJvZHVjdCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19kZXRhaWwiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAicHJvZHVjdF9faXRlbV9fdGl0bGUiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAicHJvZHVjdF9faXRlbV9fYnV0dG9uIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuY2F0ZWdvcmllcywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogewogICAgICAgIGNhdGVnb3J5X19pdGVtOiB0cnVlLAogICAgICAgICdjYXRlZ29yeV9faXRlbS0tYWN0aXZlJzogJHNldHVwLmN1cnJlbnRUYWIgPT09IGl0ZW0udGFiCiAgICAgIH0sCiAgICAgIGtleTogaXRlbS5uYW1lLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlVGFiQ2xpY2soaXRlbS50YWIpOwogICAgICB9CiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0ubmFtZSksIDExCiAgICAvKiBURVhULCBDTEFTUywgUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAubGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogInByb2R1Y3RfX2l0ZW0iLAogICAgICBrZXk6IGl0ZW0uaWQKICAgIH0sIFtfY3JlYXRlVk5vZGUoImltZyIsIHsKICAgICAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19pbWciLAogICAgICBzcmM6IGl0ZW0uaW1nVXJsCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbInNyYyJdKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJoNCIsIF9ob2lzdGVkXzUsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5uYW1lKSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgICAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19lZGl0IiwKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICByZXR1cm4gJHNldHVwLmhhbmRsZUVkaXQoaXRlbS5pZCk7CiAgICAgIH0KICAgIH0sICLnvJbovpEiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgICAgY2xhc3M6ICJwcm9kdWN0X19pdGVtX19kZWxldGUiLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlRGVsZXRlKGl0ZW0uaWQpOwogICAgICB9CiAgICB9LCAi5Yig6ZmkIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSldKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKTsKfSk7"},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\BookContent.vue"],"names":[],"mappings":";;;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAQN,EAAA,KAAK,EAAC;;;AAUF,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;AACP,EAAA,KAAK,EAAC;;;;;;uBArBjB,YAAA,CAkCM,KAlCN,EAAA,UAAA,EAkCM,CAjCJ,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,E,kBANJ,YAAA,CAKsB,SALtB,EAKsB,IALtB,EAKsB,WAAA,CAHL,MAAA,CAAA,UAGK,EAHK,UAAlB,IAAkB,EAAd;yBAFb,YAAA,CAKsB,KALtB,EAKsB;AAJnB,MAAA,KAAK,EAAA;AAAA,QAAA,cAAA,EAAA,IAAA;AAAA,kCAAmD,MAAA,CAAA,UAAA,KAAe,IAAI,CAAC;AAAvE,OAIc;AAFnB,MAAA,GAAG,EAAE,IAAI,CAAC,IAES;AADnB,MAAA,OAAK,EAAA;AAAA,eAAQ,MAAA,CAAA,cAAA,CAAe,IAAI,CAAC,GAApB,CAAR;AAAA;AACc,KALtB,E,iBAKI,IAAI,CAAC,I,CALT,EAKa;AAAA;AALb,MAKa,CAAA,SAAA,CALb,C;GAKsB,CALtB,E;;AAAA,GAMI,EAPN,CAiCI,EAzBJ,YAAA,CAwBM,KAxBN,EAAA,UAAA,EAwBM,E,kBAvBJ,YAAA,CAsBM,SAtBN,EAsBM,IAtBN,EAsBM,WAAA,CApBW,MAAA,CAAA,IAoBX,EApBe,UAAZ,IAAY,EAAR;yBAFb,YAAA,CAsBM,KAtBN,EAsBM;AArBJ,MAAA,KAAK,EAAC,eAqBF;AAnBH,MAAA,GAAG,EAAE,IAAI,CAAC;AAmBP,KAtBN,E,CAKE,YAAA,CAGC,KAHD,EAGC;AAFC,MAAA,KAAK,EAAC,oBAEP;AADE,MAAA,GAAG,EAAE,IAAI,CAAC;AACZ,KAHD,E,IAAA,E;;AAAA,M,OAAA,C,EAIA,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,YAAA,CAAqD,IAArD,EAAA,UAAA,EAAqD,gBAAA,CAAjB,IAAI,CAAC,IAAY,CAArD,EAA6C;AAAA;AAA7C,KAWI,EAVJ,YAAA,CASI,GATJ,EAAA,UAAA,EASI,CARF,YAAA,CAGU,MAHV,EAGU;AAFR,MAAA,KAAK,EAAC,qBAEE;AADP,MAAA,OAAK,EAAA;AAAA,eAAQ,MAAA,CAAA,UAAA,CAAW,IAAI,CAAC,EAAhB,CAAR;AAAA;AACE,KAHV,EAGC,IAHD,EAGG;AAAA;AAHH,MAGG,CAAA,SAAA,CAHH,CAQE,EAJF,YAAA,CAGU,MAHV,EAGU;AAFR,MAAA,KAAK,EAAC,uBAEE;AADP,MAAA,OAAK,EAAA;AAAA,eAAQ,MAAA,CAAA,YAAA,CAAa,IAAI,CAAC,EAAlB,CAAR;AAAA;AACE,KAHV,EAGC,IAHD,EAGG;AAAA;AAHH,MAGG,CAAA,SAAA,CAHH,CAIE,CATJ,CAUI,CAZN,C,CATF,C;GAsBM,CAtBN,E;;AAAA,GAuBI,EAxBN,CAyBI,CAlCN,C","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"category\">\r\n      <div\r\n        :class=\"{category__item: true ,'category__item--active': currentTab === item.tab}\"\r\n        v-for=\"item in categories\"\r\n        :key=\"item.name\"\r\n        @click=\"() => handleTabClick(item.tab)\"\r\n      >{{ item.name }}</div>\r\n    </div>\r\n    <div class=\"product\">\r\n      <div\r\n        class=\"product__item\"\r\n        v-for=\"item in list\"\r\n        :key=\"item.id\"\r\n      >\r\n        <img\r\n          class=\"product__item__img\"\r\n          :src=\"item.imgUrl\"\r\n        >\r\n        <div class=\"product__item__detail\">\r\n          <h4 class=\"product__item__title\">{{ item.name }}</h4>\r\n          <p class=\"product__item__button\">\r\n            <span\r\n              class=\"product__item__edit\"\r\n              @click=\"() => handleEdit(item.id)\"\r\n            >编辑</span>\r\n            <span\r\n              class=\"product__item__delete\"\r\n              @click=\"() => handleDelete(item.id)\"\r\n            >删除</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '../../utils/request'\r\nimport { reactive, toRefs, ref, watchEffect } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n\r\n// tab类\r\nconst categories = [{\r\n  name: '漫画',\r\n  tab: 'cartoon'\r\n}, {\r\n  name: '科幻',\r\n  tab: 'sci-fi'\r\n}, {\r\n  name: '美食',\r\n  tab: 'food'\r\n}, {\r\n  name: '教育',\r\n  tab: 'education'\r\n}, {\r\n  name: '儿童',\r\n  tab: 'children'\r\n}, {\r\n  name: '法律',\r\n  tab: 'law'\r\n}, {\r\n  name: '历史',\r\n  tab: 'history'\r\n}, {\r\n  name: '经济',\r\n  tab: 'financial'\r\n}, {\r\n  name: '娱乐',\r\n  tab: 'amusing'\r\n}, {\r\n  name: '旅游',\r\n  tab: 'travel'\r\n}]\r\n\r\n// tab切换逻辑\r\nconst useTabEffect = () => {\r\n  const currentTab = ref(categories[0].tab)\r\n  const handleTabClick = (tab) => {\r\n    currentTab.value = tab\r\n  }\r\n  return { currentTab, handleTabClick }\r\n}\r\n\r\n// 列表相关逻辑\r\nconst useCurrentListEffect = (currentTab) => {\r\n  const content = reactive({ list: [] })\r\n  const getContentData = async (tab) => {\r\n    const result = await get('/showAllBook', { tab: currentTab.value })\r\n    content.list = result.key\r\n  }\r\n  watchEffect(() => { getContentData() })\r\n  const { list } = toRefs(content)\r\n  return { list }\r\n}\r\n\r\n// 编辑书籍逻辑\r\nconst useEditBookEffect = () => {\r\n  const router = useRouter()\r\n  const handleEdit = (BookId) => {\r\n    router.push(`/EditBook/${BookId}`)\r\n  }\r\n  return handleEdit\r\n}\r\n\r\n// 删除书籍逻辑\r\nconst useDeleteBookEffect = () => {\r\n  const router = useRouter()\r\n  const handleDelete = (BookId) => {\r\n    router.push(`/DeleteBook/${BookId}`)\r\n  }\r\n  return handleDelete\r\n}\r\n\r\nexport default {\r\n  name: 'BookContent',\r\n  setup () {\r\n    const { currentTab, handleTabClick } = useTabEffect()\r\n    const { list } = useCurrentListEffect(currentTab)\r\n    const handleEdit = useEditBookEffect()\r\n    const handleDelete = useDeleteBookEffect()\r\n    return { list, categories, currentTab, handleTabClick, handleEdit, handleDelete }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content {\r\n  display: flex;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0.7rem;\r\n  bottom: 0.5rem;\r\n}\r\n\r\n.category {\r\n  overflow-y: scroll;\r\n  width: 0.76rem;\r\n  height: 100%;\r\n  background: #f5f5f5;\r\n  &__item {\r\n    line-height: 0.4rem;\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: #333;\r\n    &--active {\r\n      background: #fff;\r\n    }\r\n  }\r\n}\r\n\r\n.product {\r\n  overflow-y: scroll;\r\n  flex: 1;\r\n  &__item {\r\n    display: flex;\r\n    position: relative;\r\n    padding: 0.012rem;\r\n    margin: 0 0.16rem;\r\n    border-bottom: 0.01rem solid #f1f1f1;\r\n    &__detail {\r\n      overflow: hidden;\r\n    }\r\n    &__img {\r\n      width: 0.68rem;\r\n      height: 0.68rem;\r\n      margin-right: 0.16rem;\r\n    }\r\n    &__title {\r\n      margin: 0;\r\n      line-height: 0.2rem;\r\n      font-size: 0.14rem;\r\n      color: #333;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n    }\r\n    &__button {\r\n      margin-bottom: 0.2rem;\r\n      font-size: 0.17rem;\r\n    }\r\n    &__edit {\r\n      background: #0091ff;\r\n      box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n      border-radius: 0.04rem;\r\n      margin-right: 0.1rem;\r\n      color: #fff;\r\n    }\r\n    &__delete {\r\n      background: red;\r\n      box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n      border-radius: 0.04rem;\r\n      margin-left: 0.05rem;\r\n      color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}