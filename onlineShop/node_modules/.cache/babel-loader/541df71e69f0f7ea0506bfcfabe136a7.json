{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\admin\\Desktop\\lzc_website\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\store\\index.js","mtime":1615650442000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKCnZhciBzZXRMb2NhbENhcnRMaXN0ID0gZnVuY3Rpb24gc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSkgewogIHZhciBjYXJ0TGlzdCA9IHN0YXRlLmNhcnRMaXN0OwogIHZhciBjYXJ0TGlzdFN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGNhcnRMaXN0KTsKICBsb2NhbFN0b3JhZ2UuY2FydExpc3QgPSBjYXJ0TGlzdFN0cmluZzsKfTsKCnZhciBnZXRMb2NhbENhcnRMaXN0ID0gZnVuY3Rpb24gZ2V0TG9jYWxDYXJ0TGlzdCgpIHsKICB0cnkgewogICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhcnRMaXN0KTsKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4ge307CiAgfQp9OwoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0TGlzdDogZ2V0TG9jYWxDYXJ0TGlzdCgpIC8vICAgc2hvcElkOiB7CiAgICAvLyAgICAgc2hvcE5hbWU6IHByb2R1Y3RMaXN0OiB7CiAgICAvLyAgICAgICBwcm9kdWN0SWQ6IHsKICAgIC8vICAgICAgICAgaWQ6IG5hbWU6IGltZ1VybDogc2FsZXM6IHByaWNlOiBvbGRQcmljZTogc3RvY2s6IGNvdW50OiBjaGVjazoKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyAgIH0KCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbzogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1JbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHByb2R1Y3RJZCA9IHBheWxvYWQucHJvZHVjdElkLAogICAgICAgICAgcHJvZHVjdEluZm8gPSBwYXlsb2FkLnByb2R1Y3RJbmZvOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CgogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdIHx8IHsKICAgICAgICBzaG9wTmFtZTogJycsCiAgICAgICAgcHJvZHVjdExpc3Q6IHt9CiAgICAgIH07CiAgICAgIHZhciBwcm9kdWN0ID0gc2hvcEluZm8ucHJvZHVjdExpc3RbcHJvZHVjdElkXTsKCiAgICAgIGlmICghcHJvZHVjdCkgewogICAgICAgIHByb2R1Y3RJbmZvLmNvdW50ID0gMDsKICAgICAgICBwcm9kdWN0ID0gcHJvZHVjdEluZm87CiAgICAgIH0KCiAgICAgIGlmIChwYXlsb2FkLm51bSA+IDApIHsKICAgICAgICBwcm9kdWN0LmNoZWNrID0gdHJ1ZTsKICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzCgoKICAgICAgaWYgKHByb2R1Y3QuY291bnQgPCBwcm9kdWN0LnN0b2NrICYmIHBheWxvYWQubnVtID4gMCB8fCBwcm9kdWN0LmNvdW50ID4gMCAmJiBwYXlsb2FkLm51bSA8IDApIHsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gcHJvZHVjdC5jb3VudCArIHBheWxvYWQubnVtOwogICAgICB9CgogICAgICBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdID0gcHJvZHVjdDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBjaGFuZ2VTaG9wTmFtZTogZnVuY3Rpb24gY2hhbmdlU2hvcE5hbWUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgc2hvcE5hbWUgPSBwYXlsb2FkLnNob3BOYW1lOwogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdIHx8IHsKICAgICAgICBzaG9wTmFtZTogJycsCiAgICAgICAgcHJvZHVjdExpc3Q6IHt9CiAgICAgIH07CiAgICAgIHNob3BJbmZvLnNob3BOYW1lID0gc2hvcE5hbWU7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSBzaG9wSW5mbzsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2hhbmdlQ2FydEl0ZW1DaGVja2VkOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQ7CiAgICAgIHZhciBwcm9kdWN0ID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdOwogICAgICBwcm9kdWN0LmNoZWNrID0gIXByb2R1Y3QuY2hlY2s7CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNsZWFuQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjbGVhbkNhcnRQcm9kdWN0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3QgPSB7fTsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgc2V0Q2FydEl0ZW1zQ2hlY2s6IGZ1bmN0aW9uIHNldENhcnRJdGVtc0NoZWNrKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgdmFyIHByb2R1Y3RzID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdDsKCiAgICAgIGlmIChwcm9kdWN0cykgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3QKICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvZHVjdHMpIHsKICAgICAgICAgIHZhciBwcm9kdWN0ID0gcHJvZHVjdHNba2V5XTsKICAgICAgICAgIHByb2R1Y3QuY2hlY2sgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2xlYW5DYXJ0RGF0YTogZnVuY3Rpb24gY2xlYW5DYXJ0RGF0YShzdGF0ZSwgc2hvcElkKSB7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3QgPSB7fTsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/Users/admin/Desktop/lzc_website/src/store/index.js"],"names":["createStore","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","e","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopName","productList","product","count","num","check","stock","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemsCheck","products","key","cleanCartData"],"mappings":"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","sourcesContent":["import {\n  createStore\n} from 'vuex'\n\nconst setLocalCartList = (state) => {\n  const {\n    cartList\n  } = state\n  const cartListString = JSON.stringify(cartList)\n  localStorage.cartList = cartListString\n}\n\nconst getLocalCartList = () => {\n  try {\n    return JSON.parse(localStorage.cartList)\n  } catch (e) {\n    return {}\n  }\n}\n\nexport default createStore({\n  state: {\n    cartList: getLocalCartList()\n    //   shopId: {\n    //     shopName: productList: {\n    //       productId: {\n    //         id: name: imgUrl: sales: price: oldPrice: stock: count: check:\n    //       }\n    //     }\n    //   }\n  },\n  mutations: {\n    changeCartItemInfo (state, payload) {\n      const {\n        shopId,\n        productId,\n        productInfo\n      } = payload\n      // eslint-disable-next-line prefer-const\n      let shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {}\n      }\n      let product = shopInfo.productList[productId]\n      if (!product) {\n        productInfo.count = 0\n        product = productInfo\n      }\n      if (payload.num > 0) {\n        product.check = true\n      }\n      // eslint-disable-next-line no-mixed-operators\n      if (product.count < product.stock && payload.num > 0 || product.count > 0 && payload.num < 0) {\n        product.count = product.count + payload.num\n      }\n      shopInfo.productList[productId] = product\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeShopName (state, payload) {\n      const {\n        shopId,\n        shopName\n      } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {}\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeCartItemChecked (state, payload) {\n      const {\n        shopId,\n        productId\n      } = payload\n      const product = state.cartList[shopId].productList[productId]\n      product.check = !product.check\n      setLocalCartList(state)\n    },\n    cleanCartProducts (state, payload) {\n      const {\n        shopId\n      } = payload\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    },\n    setCartItemsCheck (state, payload) {\n      const {\n        shopId\n      } = payload\n      const products = state.cartList[shopId].productList\n      if (products) {\n        // eslint-disable-next-line prefer-const\n        for (let key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n      setLocalCartList(state)\n    },\n    cleanCartData (state, shopId) {\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    }\n  }\n})\n"]}]}