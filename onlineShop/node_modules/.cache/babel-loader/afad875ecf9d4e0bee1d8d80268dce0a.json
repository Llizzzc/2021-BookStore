{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditShopBook.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditShopBook.vue","mtime":1618541001634},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FkbWluL0Rlc2t0b3AvbHpjX3dlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHBvc3QsIGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgVG9hc3QsIHsgdXNlVG9hc3RFZmZlY3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RvYXN0JzsgLy8g5L+u5pS55Lmm57GN6YC76L6RCgp2YXIgdXNlVXBkYXRhQWRkcmVzc0VmZmVjdCA9IGZ1bmN0aW9uIHVzZVVwZGF0YUFkZHJlc3NFZmZlY3Qoc2hvd1RvYXN0KSB7CiAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICBzdG9jazogJycsCiAgICBzYWxlczogJycsCiAgICBwcmljZTogJycsCiAgICBvbGRQcmljZTogJycKICB9KTsKCiAgdmFyIGhhbmRsZVVwZGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvdXBkYXRlU2hvcEJvb2snLCB7CiAgICAgICAgICAgICAgICBzaG9wSWQ6IHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICAgIGJvb2tJZDogcm91dGUucGFyYW1zLmJvb2tJZCwKICAgICAgICAgICAgICAgIHN0b2NrOiBkYXRhLnN0b2NrLAogICAgICAgICAgICAgICAgc2FsZXM6IGRhdGEuc2FsZXMsCiAgICAgICAgICAgICAgICBwcmljZTogZGF0YS5wcmljZSwKICAgICAgICAgICAgICAgIG9sZFByaWNlOiBkYXRhLm9sZFByaWNlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJ29rJykgewogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCfkv67mlLnmiJDlip8hJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUaGVTaG9wJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgc2hvd1RvYXN0KCfor7fmsYLlpLHotKUhJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDddXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVVwZGF0YSgpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhkYXRhKSwKICAgICAgc3RvY2sgPSBfdG9SZWZzLnN0b2NrLAogICAgICBzYWxlcyA9IF90b1JlZnMuc2FsZXMsCiAgICAgIHByaWNlID0gX3RvUmVmcy5wcmljZSwKICAgICAgb2xkUHJpY2UgPSBfdG9SZWZzLm9sZFByaWNlOwoKICByZXR1cm4gewogICAgaGFuZGxlVXBkYXRhOiBoYW5kbGVVcGRhdGEsCiAgICBzdG9jazogc3RvY2ssCiAgICBzYWxlczogc2FsZXMsCiAgICBwcmljZTogcHJpY2UsCiAgICBvbGRQcmljZTogb2xkUHJpY2UKICB9Owp9OyAvLyDngrnlh7vlm57pgIAKCgp2YXIgdXNlSGFuZGxlQmFjayA9IGZ1bmN0aW9uIHVzZUhhbmRsZUJhY2soKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB2YXIgaGFuZGxlQmFja0NsaWNrID0gZnVuY3Rpb24gaGFuZGxlQmFja0NsaWNrKCkgewogICAgcm91dGVyLmJhY2soKTsKICB9OwoKICByZXR1cm4gaGFuZGxlQmFja0NsaWNrOwp9OyAvLyDojrflj5blvZPliY3kuabnsY3kv6Hmga8KCgp2YXIgdXNlQm9va0luZm9FZmZlY3QgPSBmdW5jdGlvbiB1c2VCb29rSW5mb0VmZmVjdCgpIHsKICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgaXRlbToge30KICB9KTsKCiAgdmFyIGdldEl0ZW1EYXRhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoJy90aGVTaG9wQm9vaycsIHsKICAgICAgICAgICAgICAgIHNob3BJZDogcm91dGUucGFyYW1zLmlkLAogICAgICAgICAgICAgICAgYm9va0lkOiByb3V0ZS5wYXJhbXMuYm9va0lkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YS5pdGVtID0gcmVzdWx0OwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRJdGVtRGF0YSgpIHsKICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMyID0gdG9SZWZzKGRhdGEpLAogICAgICBpdGVtID0gX3RvUmVmczIuaXRlbTsKCiAgcmV0dXJuIHsKICAgIGl0ZW06IGl0ZW0sCiAgICBnZXRJdGVtRGF0YTogZ2V0SXRlbURhdGEKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0U2hvcEJvb2snLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgaGFuZGxlQmFja0NsaWNrID0gdXNlSGFuZGxlQmFjaygpOwoKICAgIHZhciBfdXNlQm9va0luZm9FZmZlY3QgPSB1c2VCb29rSW5mb0VmZmVjdCgpLAogICAgICAgIGl0ZW0gPSBfdXNlQm9va0luZm9FZmZlY3QuaXRlbSwKICAgICAgICBnZXRJdGVtRGF0YSA9IF91c2VCb29rSW5mb0VmZmVjdC5nZXRJdGVtRGF0YTsKCiAgICB2YXIgX3VzZVVwZGF0YUFkZHJlc3NFZmZlID0gdXNlVXBkYXRhQWRkcmVzc0VmZmVjdChzaG93VG9hc3QpLAogICAgICAgIGhhbmRsZVVwZGF0YSA9IF91c2VVcGRhdGFBZGRyZXNzRWZmZS5oYW5kbGVVcGRhdGEsCiAgICAgICAgc3RvY2sgPSBfdXNlVXBkYXRhQWRkcmVzc0VmZmUuc3RvY2ssCiAgICAgICAgc2FsZXMgPSBfdXNlVXBkYXRhQWRkcmVzc0VmZmUuc2FsZXMsCiAgICAgICAgcHJpY2UgPSBfdXNlVXBkYXRhQWRkcmVzc0VmZmUucHJpY2UsCiAgICAgICAgb2xkUHJpY2UgPSBfdXNlVXBkYXRhQWRkcmVzc0VmZmUub2xkUHJpY2U7CgogICAgZ2V0SXRlbURhdGEoKTsKICAgIHJldHVybiB7CiAgICAgIGl0ZW06IGl0ZW0sCiAgICAgIGhhbmRsZUJhY2tDbGljazogaGFuZGxlQmFja0NsaWNrLAogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZSwKICAgICAgaGFuZGxlVXBkYXRhOiBoYW5kbGVVcGRhdGEsCiAgICAgIHN0b2NrOiBzdG9jaywKICAgICAgc2FsZXM6IHNhbGVzLAogICAgICBwcmljZTogcHJpY2UsCiAgICAgIG9sZFByaWNlOiBvbGRQcmljZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditShopBook.vue"],"names":[],"mappings":";;AAyDA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,IAAT,EAAe,GAAf,QAA0B,qBAA1B;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,wBAAtC,C,CAEA;;AACA,IAAM,sBAAqB,GAAI,SAAzB,sBAAyB,CAAC,SAAD,EAAe;AAC5C,MAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAM,MAAK,GAAI,SAAS,EAAxB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,IAAA,KAAK,EAAE,EADa;AAEpB,IAAA,KAAK,EAAE,EAFa;AAGpB,IAAA,KAAK,EAAE,EAHa;AAIpB,IAAA,QAAQ,EAAE;AAJU,GAAD,CAArB;;AAMA,MAAM,YAAW;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEI,IAAI,CAAC,iBAAD,EAAoB;AAC3C,gBAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa,EADsB;AAE3C,gBAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa,MAFsB;AAG3C,gBAAA,KAAK,EAAE,IAAI,CAAC,KAH+B;AAI3C,gBAAA,KAAK,EAAE,IAAI,CAAC,KAJ+B;AAK3C,gBAAA,KAAK,EAAE,IAAI,CAAC,KAL+B;AAM3C,gBAAA,QAAQ,EAAE,IAAI,CAAC;AAN4B,eAApB,CAFR;;AAAA;AAEX,cAAA,MAFW;;AAUjB,kBAAI,MAAK,KAAM,IAAf,EAAqB;AACnB,gBAAA,SAAS,CAAC,OAAD,CAAT;AACA,gBAAA,UAAU,CAAC,YAAM;AACf,kBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,oBAAA,IAAI,EAAE;AAAR,mBAAZ;AACD,iBAFS,EAEP,IAFO,CAAV;AAGF;;AAfiB;AAAA;;AAAA;AAAA;AAAA;AAiBjB,cAAA,SAAS,CAAC,OAAD,CAAT;;AAjBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAX,YAAW;AAAA;AAAA;AAAA,KAAjB;;AAT4C,gBA6BF,MAAM,CAAC,IAAD,CA7BJ;AAAA,MA6BpC,KA7BoC,WA6BpC,KA7BoC;AAAA,MA6B7B,KA7B6B,WA6B7B,KA7B6B;AAAA,MA6BtB,KA7BsB,WA6BtB,KA7BsB;AAAA,MA6Bf,QA7Be,WA6Bf,QA7Be;;AA8B5C,SAAO;AAAE,IAAA,YAAY,EAAZ,YAAF;AAAgB,IAAA,KAAK,EAAL,KAAhB;AAAuB,IAAA,KAAK,EAAL,KAAvB;AAA8B,IAAA,KAAK,EAAL,KAA9B;AAAqC,IAAA,QAAO,EAAP;AAArC,GAAP;AACF,CA/BA,C,CAiCA;;;AACA,IAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AAC1B,MAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,MAAM,eAAc,GAAI,SAAlB,eAAkB,GAAM;AAAE,IAAA,MAAM,CAAC,IAAP;AAAc,GAA9C;;AACA,SAAO,eAAP;AACF,CAJA,C,CAMA;;;AACA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC9B,MAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,IAAI,EAAE;AAAR,GAAD,CAArB;;AACA,MAAM,WAAU;AAAA,wEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACG,GAAG,CAAC,cAAD,EAAiB;AAAE,gBAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa,EAAvB;AAA2B,gBAAA,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa;AAAhD,eAAjB,CADN;;AAAA;AACZ,cAAA,MADY;AAElB,cAAA,IAAI,CAAC,IAAL,GAAY,MAAZ;;AAFkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAH8B,iBAOb,MAAM,CAAC,IAAD,CAPO;AAAA,MAOtB,IAPsB,YAOtB,IAPsB;;AAQ9B,SAAO;AAAE,IAAA,IAAI,EAAJ,IAAF;AAAQ,IAAA,WAAU,EAAV;AAAR,GAAP;AACF,CATA;;AAWA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGJ;AAAA,0BACmC,cAAc,EADjD;AAAA,QACC,IADD,mBACC,IADD;AAAA,QACO,YADP,mBACO,YADP;AAAA,QACqB,SADrB,mBACqB,SADrB;;AAEP,QAAM,eAAc,GAAI,aAAa,EAArC;;AAFO,6BAGuB,iBAAiB,EAHxC;AAAA,QAGC,IAHD,sBAGC,IAHD;AAAA,QAGO,WAHP,sBAGO,WAHP;;AAAA,gCAIiD,sBAAsB,CAAC,SAAD,CAJvE;AAAA,QAIC,YAJD,yBAIC,YAJD;AAAA,QAIe,KAJf,yBAIe,KAJf;AAAA,QAIsB,KAJtB,yBAIsB,KAJtB;AAAA,QAI6B,KAJ7B,yBAI6B,KAJ7B;AAAA,QAIoC,QAJpC,yBAIoC,QAJpC;;AAKP,IAAA,WAAW;AACX,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,eAAe,EAAf,eAAR;AAAyB,MAAA,IAAI,EAAJ,IAAzB;AAA+B,MAAA,YAAY,EAAZ,YAA/B;AAA6C,MAAA,YAAY,EAAZ,YAA7C;AAA2D,MAAA,KAAK,EAAL,KAA3D;AAAkE,MAAA,KAAK,EAAL,KAAlE;AAAyE,MAAA,KAAK,EAAL,KAAzE;AAAgF,MAAA,QAAO,EAAP;AAAhF,KAAP;AACF;AAVa,CAAf","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">\r\n      <div\r\n        class=\"iconfont title__back\"\r\n        @click=\"handleBackClick\"\r\n      >&#xe602;</div>\r\n      <div class=\"title__text\">\r\n        编辑书籍\r\n      </div>\r\n      <div\r\n        class=\"title__save\"\r\n        @click=\"handleUpdata\"\r\n      >修改</div>\r\n    </div>\r\n    <div class=\"form\">\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">库存:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.stock\"\r\n          v-model=\"stock\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">月售:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.sales\"\r\n          v-model=\"sales\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">现价:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.price\"\r\n          v-model=\"price\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">原价:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.oldPrice\"\r\n          v-model=\"oldPrice\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Toast\r\n    v-if=\"show\"\r\n    :message=\"toastMessage\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { post, get } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 修改书籍逻辑\r\nconst useUpdataAddressEffect = (showToast) => {\r\n  const route = useRoute()\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    stock: '',\r\n    sales: '',\r\n    price: '',\r\n    oldPrice: ''\r\n  })\r\n  const handleUpdata = async () => {\r\n    try {\r\n      const result = await post('/updateShopBook', {\r\n        shopId: route.params.id,\r\n        bookId: route.params.bookId,\r\n        stock: data.stock,\r\n        sales: data.sales,\r\n        price: data.price,\r\n        oldPrice: data.oldPrice\r\n      })\r\n      if (result === 'ok') {\r\n        showToast('修改成功!')\r\n        setTimeout(() => {\r\n          router.push({ name: 'TheShop' })\r\n        }, 2000)\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败!')\r\n    }\r\n  }\r\n  const { stock, sales, price, oldPrice } = toRefs(data)\r\n  return { handleUpdata, stock, sales, price, oldPrice }\r\n}\r\n\r\n// 点击回退\r\nconst useHandleBack = () => {\r\n  const router = useRouter()\r\n  const handleBackClick = () => { router.back() }\r\n  return handleBackClick\r\n}\r\n\r\n// 获取当前书籍信息\r\nconst useBookInfoEffect = () => {\r\n  const route = useRoute()\r\n  const data = reactive({ item: {} })\r\n  const getItemData = async () => {\r\n    const result = await get('/theShopBook', { shopId: route.params.id, bookId: route.params.bookId })\r\n    data.item = result\r\n  }\r\n  const { item } = toRefs(data)\r\n  return { item, getItemData }\r\n}\r\n\r\nexport default {\r\n  name: 'EditShopBook',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const handleBackClick = useHandleBack()\r\n    const { item, getItemData } = useBookInfoEffect()\r\n    const { handleUpdata, stock, sales, price, oldPrice } = useUpdataAddressEffect(showToast)\r\n    getItemData()\r\n    return { item, handleBackClick, show, toastMessage, handleUpdata, stock, sales, price, oldPrice }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: #f8f8f8;\r\n}\r\n.title {\r\n  display: flex;\r\n  line-height: 0.44rem;\r\n  background: #fff;\r\n  font-size: 0.16rem;\r\n  color: #333;\r\n  text-align: center;\r\n  &__back {\r\n    width: 0.2rem;\r\n    margin-left: 0.18rem;\r\n    font-size: 0.2rem;\r\n    color: #b7b7b7;\r\n  }\r\n  &__text {\r\n    flex: 1;\r\n    text-align: center;\r\n  }\r\n  &__save {\r\n    margin-right: 0.2rem;\r\n    font-size: 0.14rem;\r\n  }\r\n}\r\n.form {\r\n  padding: 0 0.2rem;\r\n  margin-top: 0.12rem;\r\n  background: #fff;\r\n  border-top: 0.01rem solid #f1f1f1;\r\n  border-bottom: 0.01rem solid #f1f1f1;\r\n  &__item {\r\n    display: flex;\r\n    padding: 0.12rem 0;\r\n    line-height: 0.2rem;\r\n    font-size: 0.14rem;\r\n    border-bottom: 0.01rem solid #f1f1f1;\r\n    &:last-of-type {\r\n      border-bottom: none;\r\n    }\r\n    &__label {\r\n      margin-right: 0.05rem;\r\n      color: #666;\r\n    }\r\n    &__content {\r\n      flex: 1;\r\n      border: none;\r\n      outline: none;\r\n      color: #3f3f3f;\r\n      &::placeholder {\r\n        color: #3f3f3f;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}