{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditNearby.vue?vue&type=style&index=0&id=658497a3&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditNearby.vue","mtime":1618472241967},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoud3JhcHBlciB7DQogIG92ZXJmbG93LXk6IGF1dG87DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgbGVmdDogMDsNCiAgdG9wOiAwOw0KICBib3R0b206IDA7DQogIHJpZ2h0OiAwOw0KICBiYWNrZ3JvdW5kOiAjZjhmOGY4Ow0KfQ0KLnRpdGxlIHsNCiAgZGlzcGxheTogZmxleDsNCiAgbGluZS1oZWlnaHQ6IDAuNDRyZW07DQogIGJhY2tncm91bmQ6ICNmZmY7DQogIGZvbnQtc2l6ZTogMC4xNnJlbTsNCiAgY29sb3I6ICMzMzM7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgJl9fYmFjayB7DQogICAgd2lkdGg6IDAuMnJlbTsNCiAgICBtYXJnaW4tbGVmdDogMC4xOHJlbTsNCiAgICBmb250LXNpemU6IDAuMnJlbTsNCiAgICBjb2xvcjogI2I3YjdiNzsNCiAgfQ0KICAmX190ZXh0IHsNCiAgICBmbGV4OiAxOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgfQ0KICAmX19zYXZlIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDAuMnJlbTsNCiAgICBmb250LXNpemU6IDAuMTRyZW07DQogIH0NCn0NCi5mb3JtIHsNCiAgcGFkZGluZzogMCAwLjJyZW07DQogIG1hcmdpbi10b3A6IDAuMTJyZW07DQogIGJhY2tncm91bmQ6ICNmZmY7DQogIGJvcmRlci10b3A6IDAuMDFyZW0gc29saWQgI2YxZjFmMTsNCiAgYm9yZGVyLWJvdHRvbTogMC4wMXJlbSBzb2xpZCAjZjFmMWYxOw0KICAmX19pdGVtIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHBhZGRpbmc6IDAuMTJyZW0gMDsNCiAgICBsaW5lLWhlaWdodDogMC4ycmVtOw0KICAgIGZvbnQtc2l6ZTogMC4xNHJlbTsNCiAgICBib3JkZXItYm90dG9tOiAwLjAxcmVtIHNvbGlkICNmMWYxZjE7DQogICAgJjpsYXN0LW9mLXR5cGUgew0KICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTsNCiAgICB9DQogICAgJl9fbGFiZWwgew0KICAgICAgbWFyZ2luLXJpZ2h0OiAwLjA1cmVtOw0KICAgICAgY29sb3I6ICM2NjY7DQogICAgfQ0KICAgICZfX2NvbnRlbnQgew0KICAgICAgZmxleDogMTsNCiAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICBjb2xvcjogIzNmM2YzZjsNCiAgICAgICY6OnBsYWNlaG9sZGVyIHsNCiAgICAgICAgY29sb3I6ICMzZjNmM2Y7DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\admin\\EditNearby.vue"],"names":[],"mappings":"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","file":"C:/Users/admin/Desktop/lzc_website/src/views/admin/EditNearby.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">\r\n      <div\r\n        class=\"iconfont title__back\"\r\n        @click=\"handleBackClick\"\r\n      >&#xe602;</div>\r\n      <div class=\"title__text\">\r\n        编辑店铺信息\r\n      </div>\r\n      <div\r\n        class=\"title__save\"\r\n        @click=\"handleUpdata\"\r\n      >修改</div>\r\n    </div>\r\n    <div class=\"form\">\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">书店名:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.title\"\r\n          v-model=\"title\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">月售:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.sales\"\r\n          v-model=\"sales\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">起送:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.expressLimit\"\r\n          v-model=\"expressLimit\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">配送费:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.expressPrice\"\r\n          v-model=\"expressPrice\"\r\n        />\r\n      </div>\r\n      <div class=\"form__item\">\r\n        <div class=\"form__item__label\">标语:</div>\r\n        <input\r\n          class=\"form__item__content\"\r\n          :placeholder=\"item.slogan\"\r\n          v-model=\"slogan\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Toast\r\n    v-if=\"show\"\r\n    :message=\"toastMessage\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { post, get } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 获取当前商铺信息\r\nconst useShopInfoEffect = () => {\r\n  const route = useRoute()\r\n  const data = reactive({ item: {} })\r\n  const getItemData = async () => {\r\n    const result = await get('/showShop', { id: route.params.id })\r\n    data.item = result\r\n  }\r\n  const { item } = toRefs(data)\r\n  return { item, getItemData }\r\n}\r\n\r\n// 修改信息逻辑\r\nconst useUpdataAddressEffect = (showToast) => {\r\n  const route = useRoute()\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    id: route.params.id,\r\n    title: '',\r\n    sales: '',\r\n    expressLimit: '',\r\n    expressPrice: '',\r\n    slogan: ''\r\n  })\r\n  const handleUpdata = async () => {\r\n    try {\r\n      const result = await post('/updateShop', {\r\n        id: data.id,\r\n        title: data.title,\r\n        sales: data.sales,\r\n        expressLimit: data.expressLimit,\r\n        expressPrice: data.expressPrice,\r\n        slogan: data.slogan\r\n      })\r\n      if (result === 'ok') {\r\n        showToast('修改成功!')\r\n        setTimeout(() => {\r\n          router.push({ name: 'AllShop' })\r\n        }, 2000)\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败!')\r\n    }\r\n  }\r\n  const { title, sales, expressLimit, expressPrice, slogan } = toRefs(data)\r\n  return { handleUpdata, title, sales, expressLimit, expressPrice, slogan }\r\n}\r\n\r\n// 点击回退\r\nconst useHandleBack = () => {\r\n  const router = useRouter()\r\n  const handleBackClick = () => { router.back() }\r\n  return handleBackClick\r\n}\r\n\r\nexport default {\r\n  name: 'EditNearby',\r\n  components: { Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const handleBackClick = useHandleBack()\r\n    const { item, getItemData } = useShopInfoEffect()\r\n    const { handleUpdata, title, sales, expressLimit, expressPrice, slogan } = useUpdataAddressEffect(showToast)\r\n    getItemData()\r\n    return { item, handleBackClick, show, toastMessage, handleUpdata, title, sales, expressLimit, expressPrice, slogan }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: #f8f8f8;\r\n}\r\n.title {\r\n  display: flex;\r\n  line-height: 0.44rem;\r\n  background: #fff;\r\n  font-size: 0.16rem;\r\n  color: #333;\r\n  text-align: center;\r\n  &__back {\r\n    width: 0.2rem;\r\n    margin-left: 0.18rem;\r\n    font-size: 0.2rem;\r\n    color: #b7b7b7;\r\n  }\r\n  &__text {\r\n    flex: 1;\r\n    text-align: center;\r\n  }\r\n  &__save {\r\n    margin-right: 0.2rem;\r\n    font-size: 0.14rem;\r\n  }\r\n}\r\n.form {\r\n  padding: 0 0.2rem;\r\n  margin-top: 0.12rem;\r\n  background: #fff;\r\n  border-top: 0.01rem solid #f1f1f1;\r\n  border-bottom: 0.01rem solid #f1f1f1;\r\n  &__item {\r\n    display: flex;\r\n    padding: 0.12rem 0;\r\n    line-height: 0.2rem;\r\n    font-size: 0.14rem;\r\n    border-bottom: 0.01rem solid #f1f1f1;\r\n    &:last-of-type {\r\n      border-bottom: none;\r\n    }\r\n    &__label {\r\n      margin-right: 0.05rem;\r\n      color: #666;\r\n    }\r\n    &__content {\r\n      flex: 1;\r\n      border: none;\r\n      outline: none;\r\n      color: #3f3f3f;\r\n      &::placeholder {\r\n        color: #3f3f3f;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}