{"remainingRequest":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\register\\Register.vue?vue&type=style&index=0&id=09939685&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\register\\Register.vue","mtime":1618208397802},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\lzc_website\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci53cmFwcGVyIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA1MCU7CiAgbGVmdDogMDsKICByaWdodDogMDsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgJl9faW1nIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAwIGF1dG8gMC40cmVtIGF1dG87CiAgICB3aWR0aDogMC42OHJlbTsKICAgIGhlaWdodDogMC42OHJlbTsKICB9CiAgJl9faW5wdXQgewogICAgaGVpZ2h0OiAwLjQ4cmVtOwogICAgbWFyZ2luOiAwIDAuNHJlbSAwLjE2cmVtIDAuNHJlbTsKICAgIHBhZGRpbmc6IDAgMC4xNnJlbTsKICAgIGJhY2tncm91bmQ6ICNmOWY5Zjk7CiAgICBib3JkZXI6IDAuMDFyZW0gc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgYm9yZGVyLXJhZGl1czogMC4wNnJlbTsKICAgICZfX2NvbnRlbnQgewogICAgICBsaW5lLWhlaWdodDogMC40OHJlbTsKICAgICAgYm9yZGVyOiBub25lOwogICAgICBvdXRsaW5lOiBub25lOwogICAgICB3aWR0aDogMTAwJTsKICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgZm9udC1zaXplOiAwLjE2cmVtOwogICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAmOjpwbGFjZWhvbGRlciB7CiAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgfQogICAgfQogIH0KICAmX19yZWdpc3Rlci1idXR0b24gewogICAgbWFyZ2luOiAwLjMycmVtIDAuNHJlbSAwIDAuNHJlbTsKICAgIGxpbmUtaGVpZ2h0OiAwLjQ4cmVtOwogICAgYmFja2dyb3VuZDogIzAwOTFmZjsKICAgIGJveC1zaGFkb3c6IDAgMC4wNHJlbSAwLjA4cmVtIDAgcmdiYSgwLCAxNDUsIDI1NSwgMC4zMik7CiAgICBib3JkZXItcmFkaXVzOiAwLjA0cmVtOwogICAgYm9yZGVyLXJhZGl1czogMC4wNHJlbTsKICAgIGNvbG9yOiAjZmZmOwogICAgZm9udC1zaXplOiAwLjE2cmVtOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0KICAmX19yZWdpc3Rlci1saW5rIHsKICAgIG1hcmdpbi10b3A6IDAuMnJlbTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGZvbnQtc2l6ZTogMC4xNHJlbTsKICAgIGNvbG9yOiAjNzc3OwogIH0KfQo="},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\lzc_website\\src\\views\\register\\Register.vue"],"names":[],"mappings":"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","file":"C:/Users/admin/Desktop/lzc_website/src/views/register/Register.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img\n      class=\"wrapper__img\"\n      src=\"../../img/others/2.jpg\"\n    />\n    <div class=\"wrapper__input\">\n      <input\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        autocomplete=\"new-password\"\n        v-model=\"password\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"确认密码\"\n        autocomplete=\"new-password\"\n        v-model=\"ensurement\"\n      />\n    </div>\n    <div\n      class=\"wrapper__register-button\"\n      @click=\"handleRegister\"\n    >注册</div>\n    <div\n      class=\"wrapper__register-link\"\n      @click=\"handleLoginClick\"\n    >已有账号去登陆</div>\n    <Toast\n      v-if=\"show\"\n      :message=\"toastMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nimport { reactive, toRefs } from 'vue'\nimport { post } from '../../utils/request'\nimport Toast, { useToastEffect } from '../../components/Toast'\n\n// 注册逻辑\nconst useRegisterEffect = (showToast) => {\n  const router = useRouter()\n  const data = reactive({\n    username: '',\n    password: '',\n    ensurement: ''\n  })\n  const handleRegister = async () => {\n    if (data.username === '' || data.password === '' || data.ensurement === '') {\n      showToast('用户名或密码不能为空!')\n    } else if (data.password !== data.ensurement) {\n      showToast('两次密码不一致，请重新输入!')\n      data.password = ''\n      data.ensurement = ''\n    } else {\n      try {\n        const result = await post('/register', {\n          username: data.username,\n          password: data.password,\n          ensurement: data.ensurement\n        })\n        if (result === 'ok') {\n          showToast('注册成功!')\n          setTimeout(() => {\n            router.push({ name: 'Login' })\n          }, 2000)\n        } else if (result === 'exist') {\n          data.username = ''\n          data.password = ''\n          data.ensurement = ''\n          showToast('用户存在，请前往登陆!')\n        }\n      } catch (e) {\n        showToast('请求失败!')\n      }\n    }\n  }\n  const { username, password, ensurement } = toRefs(data)\n  return { username, password, ensurement, handleRegister }\n}\n\n// 登陆跳转\nconst useLoginEffect = () => {\n  const router = useRouter()\n  const handleLoginClick = () => {\n    router.push({ name: 'Login' })\n  }\n  return { handleLoginClick }\n}\n\nexport default {\n  name: 'Register',\n  components: { Toast },\n  setup () {\n    const { show, toastMessage, showToast } = useToastEffect()\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\n    const { handleLoginClick } = useLoginEffect()\n    return { username, password, ensurement, handleRegister, handleLoginClick, show, toastMessage }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    margin: 0 auto 0.4rem auto;\n    width: 0.68rem;\n    height: 0.68rem;\n  }\n  &__input {\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    padding: 0 0.16rem;\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    &__content {\n      line-height: 0.48rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: 0.16rem;\n      color: rgba(0, 0, 0, 0.5);\n      &::placeholder {\n        color: rgba(0, 0, 0, 0.5);\n      }\n    }\n  }\n  &__register-button {\n    margin: 0.32rem 0.4rem 0 0.4rem;\n    line-height: 0.48rem;\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    border-radius: 0.04rem;\n    color: #fff;\n    font-size: 0.16rem;\n    text-align: center;\n  }\n  &__register-link {\n    margin-top: 0.2rem;\n    text-align: center;\n    font-size: 0.14rem;\n    color: #777;\n  }\n}\n</style>\n"]}]}